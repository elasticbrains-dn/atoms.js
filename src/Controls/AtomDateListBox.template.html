<div class="atom-date-list-box">
    <div class="calendar">
        <select
            atom-type="AtomComboBox"
            class="month"
            atom-items="{AtomDate.monthList}"
            atom-value="$[owner.templateParent.month]"
            ></select>
        <select
            atom-type="AtomComboBox"
            class="year"
            atom-items="[ Atom.range( $owner.value + $owner.templateParent.startYear, $owner.value + $owner.templateParent.endYear) ]"
            atom-value="$[owner.templateParent.year]"
            ></select>
        <div
            class="days">
            <span class="weekend-header">S</span>
            <span>M</span>
            <span>T</span>
            <span>W</span>
            <span>T</span>
            <span>F</span>
            <span class="weekend-header">S</span>
        </div>
        <div
            class="day-list"
            atom-presenter="itemsPresenter">
            <div
                event-click="{ $owner.templateParent.toggleDateCommand }"
                atom-data="[$owner.templateParent.items[$scope.itemIndex]]"
                atom-class="[ { 
                    'list-item':true, 
                    'weekend': $data.isWeekEnd, 
                    other: $data.isOtherMonth, 
                    today: $data.isToday,
                    'selected': Atom.query($owner.templateParent.selectedItems).any({ value: $data.value}) } ]"
                atom-template="itemTemplate">
                <span atom-text="[$data.label]"></span>
            </div>
        </div>
    </div>
    <div class="list"
        atom-type="AtomListBox"
        atom-items="[$owner.templateParent.selectedItems]"
        atom-label-path="dateLabel"
        atom-value-path="date"
        atom-value="$[$owner.templateParent.visibleDate]"
        >
        <div 
            atom-template="itemTemplate"
            atom-text="{$data.dateLabel}">
        </div>
    </div>
</div>